name = "kpopdebut"
main = "dist/index.js"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]

# 운영 환경 D1 Database bindings
[[d1_databases]]
binding = "DB"
database_name = "kpopdebut"
database_id = "512310fc-a085-480c-83e2-baa483dd3929"  # 운영 DB ID

# 환경 변수
[vars]
NODE_ENV = "production"

# 개발 환경 설정
[env.development]
[env.development.vars]
NODE_ENV = "development"

[[env.development.d1_databases]]
binding = "DB"
database_name = "kpopdebut-dev"
database_id = "your-dev-database-id-here"  # 개발 DB ID

# Workers 설정
[build]
command = "npm run build"

# 로컬 개발 설정 (Node.js 환경 - 메모리 스토리지 사용)